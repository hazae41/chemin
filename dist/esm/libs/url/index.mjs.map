{"version":3,"file":"index.mjs","sources":["../../../../src/libs/url/index.ts"],"sourcesContent":["import { Nullable } from \"@hazae41/option\"\n\n/**\n * Get the URL of the given path and query\n * @param hrefOrUrl \n * @param search \n * @returns \n */\nexport function urlOf(hrefOrUrl: string | URL, search: Record<string, Nullable<any>> = {}) {\n  const url = new URL(hrefOrUrl, location.href)\n\n  for (const key in search)\n    if (search[key] == null)\n      url.searchParams.delete(key)\n    else\n      url.searchParams.set(key, search[key])\n\n  return url\n}\n\n/**\n * Get the path of the given URL\n * @param hrefOrUrl \n * @returns `/path?key=value#hash`\n */\nexport function pathOf(hrefOrUrl: string | URL) {\n  const url = new URL(hrefOrUrl, location.href)\n\n  if (url.origin !== location.origin)\n    return url.href\n\n  return url.pathname + url.search + url.hash\n}\n\n/**\n * Spoof a new URL from the hash and origin of the given URL\n * @param hrefOrUrl \n * @returns \n */\nexport function hashAsUrl(hrefOrUrl: string | URL) {\n  const url = new URL(hrefOrUrl, location.href)\n  const hash = url.hash.slice(1)\n\n  if (hash)\n    return new URL(hash, url.origin)\n\n  return new URL(url.origin)\n}\n\n/**\n * Spoof a new URL from the search and origin of the given URL\n * @param hrefOrUrl \n * @param key \n * @returns \n */\nexport function searchAsUrl(hrefOrUrl: string | URL, key: string) {\n  const url = new URL(hrefOrUrl, location.href)\n  const value = url.searchParams.get(key)\n\n  if (value)\n    return new URL(value, url.origin)\n\n  return new URL(url.origin)\n}\n"],"names":["urlOf","hrefOrUrl","search","url","URL","location","href","key","searchParams","delete","set","pathOf","origin","pathname","hash","hashAsUrl","slice","searchAsUrl","value","get"],"mappings":"AAEA;;;;;AAKC,IACM,SAASA,KAAAA,CAAMC,SAAuB,EAAEC,MAAAA,GAAwC,EAAE,EAAA;AACvF,IAAA,MAAMC,GAAM,GAAA,IAAIC,GAAIH,CAAAA,SAAAA,EAAWI,SAASC,IAAI,CAAA,CAAA;AAE5C,IAAA,IAAK,MAAMC,GAAAA,IAAOL,MAChB,CAAA,IAAIA,MAAM,CAACK,GAAI,CAAA,IAAI,IACjBJ,EAAAA,GAAAA,CAAIK,YAAY,CAACC,MAAM,CAACF,GAAAA,CAAAA,CAAAA;AAExBJ,SAAAA,GAAAA,CAAIK,YAAY,CAACE,GAAG,CAACH,GAAKL,EAAAA,MAAM,CAACK,GAAI,CAAA,CAAA,CAAA;IAEzC,OAAOJ,GAAAA,CAAAA;AACT,CAAA;AAEA;;;;IAKO,SAASQ,MAAAA,CAAOV,SAAuB,EAAA;AAC5C,IAAA,MAAME,GAAM,GAAA,IAAIC,GAAIH,CAAAA,SAAAA,EAAWI,SAASC,IAAI,CAAA,CAAA;IAE5C,IAAIH,GAAAA,CAAIS,MAAM,KAAKP,QAAAA,CAASO,MAAM,EAChC,OAAOT,IAAIG,IAAI,CAAA;AAEjB,IAAA,OAAOH,IAAIU,QAAQ,GAAGV,IAAID,MAAM,GAAGC,IAAIW,IAAI,CAAA;AAC7C,CAAA;AAEA;;;;IAKO,SAASC,SAAAA,CAAUd,SAAuB,EAAA;AAC/C,IAAA,MAAME,GAAM,GAAA,IAAIC,GAAIH,CAAAA,SAAAA,EAAWI,SAASC,IAAI,CAAA,CAAA;AAC5C,IAAA,MAAMQ,IAAOX,GAAAA,GAAAA,CAAIW,IAAI,CAACE,KAAK,CAAC,CAAA,CAAA,CAAA;AAE5B,IAAA,IAAIF,MACF,OAAO,IAAIV,GAAIU,CAAAA,IAAAA,EAAMX,IAAIS,MAAM,CAAA,CAAA;IAEjC,OAAO,IAAIR,GAAID,CAAAA,GAAAA,CAAIS,MAAM,CAAA,CAAA;AAC3B,CAAA;AAEA;;;;;AAKC,IACM,SAASK,WAAYhB,CAAAA,SAAuB,EAAEM,GAAW,EAAA;AAC9D,IAAA,MAAMJ,GAAM,GAAA,IAAIC,GAAIH,CAAAA,SAAAA,EAAWI,SAASC,IAAI,CAAA,CAAA;AAC5C,IAAA,MAAMY,KAAQf,GAAAA,GAAAA,CAAIK,YAAY,CAACW,GAAG,CAACZ,GAAAA,CAAAA,CAAAA;AAEnC,IAAA,IAAIW,OACF,OAAO,IAAId,GAAIc,CAAAA,KAAAA,EAAOf,IAAIS,MAAM,CAAA,CAAA;IAElC,OAAO,IAAIR,GAAID,CAAAA,GAAAA,CAAIS,MAAM,CAAA,CAAA;AAC3B;;;;"}